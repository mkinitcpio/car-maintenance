<div class="create-dialog">
  <header class="create-dialog__title">
    <span>{{data.mode === 0 ? 'Добавление' : 'Редактирование'}} категории</span>
  </header>
  <main class="create-dialog__content">
    <form [formGroup]="categoryForm">
      <mat-form-field [floatLabel]="'always'">
        <mat-label>Наименование</mat-label>
        <input [required]="true" [formControlName]="'name'" matInput value="Sushi">
      </mat-form-field>
      <mat-form-field [floatLabel]="'always'">
      <mat-label>Категория</mat-label>
        <mat-select [formControlName]="'parent'">
          <mat-option *ngFor="let parent of data.parents" [value]="parent.value">
            {{parent.name}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field [floatLabel]="'always'" *ngIf="!categoryForm.get('parent').value">
        <mat-label>Иллюстрация</mat-label>
          <mat-select [formControlName]="'illustration'">
            <mat-select-trigger class="create-dialog__illustration-container">
              <img class="create-dialog__illustration-icon"
                   *ngIf="categoryForm.get('illustration').value"
                   [src]="'assets/category-icons/' + categoryForm.get('illustration').value">
              {{getIllustrationName(categoryForm.get('illustration').value)}}
            </mat-select-trigger>
            <mat-option *ngFor="let illustrationOption of categoryIllustrationOptions" [value]="illustrationOption.value">
              <span class="create-dialog__option-content">
                <img class="create-dialog__option-icon" [src]="'assets/category-icons/' + illustrationOption.value">
                <span class="create-dialog__option-text">
                {{illustrationOption.name}}
                </span>
              </span>
            </mat-option>
          </mat-select>
        </mat-form-field>
    </form>
  </main>
  <div class="create-dialog__footer">
    <button class="button button__submit" mat-button (click)="onSubmit()">{{data.mode === 0 ? 'Добавить' : 'Изменить'}}</button>
    <button class="button" mat-button (click)="onClose()">Отмена</button>
  </div>
</div>
