<div class="create-car-dialog">
  <app-dialog [title]="title | async"
              [canChangeSize]="true"
              (close)="onClose()"
              (submit)="onSubmit()"
  >
    <form content [formGroup]="carForm" class="create-car-dialog__content">
      <div class="create-car-dialog__columns">
        <div>
          <ubuntu-container [title]="'DIALOG.COMMON' | translate" [hasBordersStyle]="false" [flat]="true">
            <div class="create-car-dialog__container">
              <mat-form-field [floatLabel]="'always'">
                <mat-label>{{"DIALOG.FIELDS.NAME" | translate}}</mat-label>
                <input cdkFocusInitial [required]="true" [formControlName]="'name'" matInput>
                <mat-error>
                  {{"DIALOG.VALIDATIONS.NAME" | translate}}
                </mat-error>
              </mat-form-field>
            </div>
          </ubuntu-container>
          <ubuntu-container [title]="'DIALOG.INFO' | translate" [hasBordersStyle]="false" [flat]="true">
            <div class="create-car-dialog__container">
              <mat-form-field [floatLabel]="'always'">
                <mat-label>{{"DIALOG.FIELDS.VEHICLE_ID" | translate}}</mat-label>
                <input [formControlName]="'vehicleId'" matInput>
              </mat-form-field>
              <mat-form-field [floatLabel]="'always'">
                <mat-label>{{"DIALOG.FIELDS.MAKE" | translate}}</mat-label>
                <input [formControlName]="'make'" matInput>
              </mat-form-field>
              <mat-form-field [floatLabel]="'always'">
                <mat-label>{{"DIALOG.FIELDS.MODEL" | translate}}</mat-label>
                <input [formControlName]="'model'" matInput>
              </mat-form-field>
              <mat-form-field [floatLabel]="'always'">
                <mat-label>{{"DIALOG.FIELDS.YEAR" | translate}}</mat-label>
                <input [formControlName]="'year'" matInput>
                <mat-error *ngIf="carForm.get('year').hasError('number')">
                  {{carForm.get('year').getError('number').value | translate}}
                </mat-error>
                <mat-error *ngIf="carForm.get('year').hasError('positiveNumber')">
                  {{carForm.get('year').getError('positiveNumber').value | translate}}
                </mat-error>
              </mat-form-field>
              <mat-form-field [floatLabel]="'always'">
                <mat-label>{{"DIALOG.FIELDS.ENGINE" | translate}}</mat-label>
                <input [formControlName]="'engine'" matInput>
              </mat-form-field>
              <mat-form-field [floatLabel]="'always'">
                <mat-label>{{"DIALOG.FIELDS.MILEAGE" | translate}}</mat-label>
                <input [formControlName]="'mileage'" matInput>
                <mat-error *ngIf="carForm.get('mileage').hasError('number')">
                  {{carForm.get('mileage').getError('number').value | translate}}
                </mat-error>
                <mat-error *ngIf="carForm.get('mileage').hasError('positiveNumber')">
                  {{carForm.get('mileage').getError('positiveNumber').value | translate}}
                </mat-error>
              </mat-form-field></div>
          </ubuntu-container>
        </div>
        <div>
          <ubuntu-container [title]="'DIALOG.PARTS' | translate" [info]="'DIALOG.TOOLTIPS.CAR_PARTS' | translate" [hasBordersStyle]="false" [flat]="true">
            <app-button actions button-transparent (click)="addPart()">
              <mat-icon>add</mat-icon>
            </app-button>
            <div class="create-car-dialog__parts-container">
              <div formArrayName="parts">
                <div class="create-car-dialog__part" *ngFor="let partConrol of parts.controls; let i = index">
                  <span>{{i + 1}}.</span>
                  <mat-form-field>
                    <input [formControlName]="i" matInput>
                    <mat-error>
                      {{"DIALOG.VALIDATIONS.NAME" | translate}}
                    </mat-error>
                  </mat-form-field>
                  <app-button button-transparent (click)="onDeletePart(i)">
                    <mat-icon class="create-car-dialog__delete-button-icon">delete</mat-icon>
                  </app-button>
                </div>
              </div>
            </div>
          </ubuntu-container>
        </div>
      </div>
    </form>
  </app-dialog>
</div>
